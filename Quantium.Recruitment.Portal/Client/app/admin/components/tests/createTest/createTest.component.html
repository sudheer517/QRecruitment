 <div class="" style="padding: 20px">
        <form  novalidate #form="ngForm" (submit)="generateTests()">
                <div style="display: flex; min-height: 400px;">
                        <div class="" style="flex: 0 1 50%;display: flex;flex-direction: column" >
                                <div style="width: 50%">
                                        <div class="form-group" [class.has-danger]="job.touched && job.invalid">
                                        <label class="form-control-label" for="job">Select job</label>
                                        <select class="form-control" #job="ngModel" id="job" name="job" required [(ngModel)]="selectedJobId" (ngModelChange)="selectJob($event)">
                                                <option *ngFor="let job of jobs" [value]="job.Id">{{job.Title}}</option>
                                        </select>
                                        <small *ngIf="job.touched && job.invalid" class="form-text muted-text">Job is required</small>
                                        </div>
                                </div>
                                <div *ngIf="selectedJob" style="">
                                        <div *ngFor="let jobDifficultyLabel of selectedJob.JobDifficultyLabels">
                                                <div>
                                                        <span>{{jobDifficultyLabel.Label.Name}}</span>
                                                        <span>Difficulty - {{jobDifficultyLabel.Difficulty.Name}}</span>
                                                        <span>Questions - {{jobDifficultyLabel.DisplayQuestionCount}}</span>
                                                        <span>Passing criteria - {{jobDifficultyLabel.PassingQuestionCount}}</span>
                                                </div>
                                        </div>
                                </div>
                                <div style="margin-top: auto">
                                <button type="submit" class="btn" [disabled]="form.invalid || (!hasSelectedAtleastOneCandidate)">Generate tests for selected candidates</button>
                                </div>
                        </div>
                        
                        <div style="flex: 0 1 50%">
                                <div class="flex-row">
                                        <div class="form-group" [class.has-danger]="" style="flex: 0 1 30%">
                                                <label class="form-control-label" for="search">Search candidates</label>
                                                <input class="form-control" id="search" name="search" [(ngModel)]="search"  type="text"
                                                 placeholder="Search Candidates" (ngModelChange)="filterCandidates(search)">
                                        </div>

                                        <div class="flex-row" style="flex: 0 1 40%; margin-top: 42px; margin-left: 30px">        
                                                <input style="flex: 0 1 5%;margin-top: 5px;" #selectedAllTemplate="ngModel" id="job" name="job" [(ngModel)]="selectedAll"
                                                type="checkbox" (ngModelChange)="checkAll(filteredCandidates)"/>
                                                <span style="margin-left: 5px;">Select all</span>
                                        </div>
                                        
                                </div>
                                
                                <div>
                                        <div>
                                                

                                                <div *ngFor="let candidate of filteredCandidates;let i=index">
                                                        <div class="flex-row" layout="">
                                                                <input style="flex: 0 1 5%;margin-top: 5px;" id="search{{i}}" name="search{{i}}" 
                                                                [(ngModel)]="selectedtestOptions.candidateIds[candidate.Id]" (ngModelChange)="updateSelectedCandidateCount()"
                                                                type="checkbox"/>
                                                                <p style="flex: 0 1 20%;">{{candidate.FirstName}} {{candidate.LastName}}</p>
                                                                <p style="flex: 0 1 20%;">{{candidate.Email}}</p>
                                                        </div>
                                                </div>

                                                
                                        </div>
                                </div>
                        </div>
                </div>
        </form>
        
</div>



<div bsModal #progress="bs-modal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
                <h5 class="modal-title" *ngIf="!smallModalStatus">Creating test</h5>
                <h5 class="modal-title" *ngIf="smallModalStatus">Oops !!  Unable to add questions</h5>
        </div>
      
      <div class="modal-footer" style="justify-content: center">
                <span class="fa fa-spinner fa-spin fa-3x"  *ngIf="!smallModalStatus"></span>
                
                <button type="button" class="close"   *ngIf="smallModalStatus" (click)="d('Cross click')">
                       <span class="fa fa-times fa-3x"></span>
                </button>
        </div>
    </div>
  </div>
</div>